[
  {
    "id" : "c965b5bd-ff67-4110-aba5-74f945dbee47",
    "prId" : 108,
    "comments" : [
      {
        "id" : "6813ed2e-8c88-4926-b3fd-eaf2c6593393",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "I think ultimately we need both `demoNative/run` and `sandbox/run` there too, not just `compile`.\n",
        "createdAt" : "2016-05-18T23:36:08Z",
        "updatedAt" : "2016-05-19T07:36:22Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "89daff8bdce17dc2e33698258a697920aedd30f1",
    "line" : null,
    "diffHunk" : "@@ -14,4 +14,4 @@ before_script:\n   - brew link bdw-gc\n script:\n   - java -version\n-  - sbt 'rtlib/publishLocal' 'nscplugin/publishLocal' \"demoNative/run\"\n+  - sbt 'rtlib/publishLocal' 'nscplugin/publishLocal' 'compile'"
  },
  {
    "id" : "20ec84d7-bbb3-4b11-9eff-effc9056dc39",
    "prId" : 392,
    "comments" : [
      {
        "id" : "ef91df1a-3f4f-4820-b436-fd1a40212207",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "What's the correct merge order between this pr and scala-native/sbt-cross-project#4 ?",
        "createdAt" : "2016-11-21T12:29:31Z",
        "updatedAt" : "2016-11-25T12:22:43Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "f021e67f-aff0-4e07-9212-8a2e7e7cb6a4",
        "parentId" : "ef91df1a-3f4f-4820-b436-fd1a40212207",
        "author" : {
          "login" : "MasseGuillaume",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/921490?u=1ea96b0787a224aed96b7091c354e76d0f55960c&v=4"
        },
        "body" : "sbt-cross-project first.\r\n\r\nsbt-native => sbt-cross\r\nsbt-cross-test (scripted integration test) => (sbt-native, sbt-cross)",
        "createdAt" : "2016-11-21T12:31:52Z",
        "updatedAt" : "2016-11-25T12:22:43Z",
        "lastEditedBy" : {
          "login" : "MasseGuillaume",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/921490?u=1ea96b0787a224aed96b7091c354e76d0f55960c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "b57457a0814be123a23a185c8bd6cc35de2e994e",
    "line" : null,
    "diffHunk" : "@@ -55,4 +55,9 @@ before_script:\n script:\n   - java -version\n   - bin/scalafmt --version 0.4.7 --test\n+  - git clone https://github.com/MasseGuillaume/sbt-cross-project.git\n+  - pushd sbt-cross-project\n+  - git checkout simple2\n+  - sbt publishLocal\n+  - popd"
  },
  {
    "id" : "f415b7d7-4109-4883-85c1-5fa549fe913e",
    "prId" : 403,
    "comments" : [
      {
        "id" : "cd4fa97a-7de0-4eac-9a97-1322c524c002",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "Is there a way to auto-install, so that you have just a single command that will check if it's installed or not and run the next script? Extra step, means extra step people can and will get wrong. ",
        "createdAt" : "2016-11-24T09:35:39Z",
        "updatedAt" : "2016-11-24T14:28:59Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "e0ca4e18a885cddc80b3e2b601a1b731e9393157",
    "line" : null,
    "diffHunk" : "@@ -54,5 +54,7 @@ before_script:\n     fi;\n script:\n   - java -version\n-  - bin/scalafmt --version 0.4.7 --test\n+  - bin/install-scalafmt.sh\n+  - bin/scalafmt --test"
  },
  {
    "id" : "64441a2e-c14b-49b1-9a34-729af2e5447f",
    "prId" : 522,
    "comments" : [
      {
        "id" : "87f2dd2c-9fb7-4b85-b6a9-b664d260428b",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "Why is this still necessary? Shouldn't we rely on published version of `sbt-crossproject` now?",
        "createdAt" : "2017-02-22T12:12:24Z",
        "updatedAt" : "2017-02-22T12:48:46Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "441d4d3f-226f-436d-97ee-2794963695a8",
        "parentId" : "87f2dd2c-9fb7-4b85-b6a9-b664d260428b",
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "As soon as we don't rely on this publishLocal, the #485 is fixed too.",
        "createdAt" : "2017-02-22T12:19:34Z",
        "updatedAt" : "2017-02-22T12:48:46Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "39bbc738-5af6-4240-9eee-36540e82010b",
        "parentId" : "87f2dd2c-9fb7-4b85-b6a9-b664d260428b",
        "author" : {
          "login" : "MasseGuillaume",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/921490?u=1ea96b0787a224aed96b7091c354e76d0f55960c&v=4"
        },
        "body" : "yep this is fixed",
        "createdAt" : "2017-02-22T12:46:23Z",
        "updatedAt" : "2017-02-22T12:48:46Z",
        "lastEditedBy" : {
          "login" : "MasseGuillaume",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/921490?u=1ea96b0787a224aed96b7091c354e76d0f55960c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "2e038f873a8f2448171c7fa443443143a7d16c8f",
    "line" : null,
    "diffHunk" : "@@ -51,7 +51,7 @@ before_script:\n script:\n   - java -version\n   - git clone https://github.com/scala-native/sbt-cross.git\n-  - pushd sbt-cross\n+  - pushd sbt-crossproject\n   - sbt publishLocal\n   - popd"
  },
  {
    "id" : "420388e1-46a0-45fb-85e3-45f450a67fed",
    "prId" : 525,
    "comments" : [
      {
        "id" : "a8df27cf-c515-404c-ae4a-40974e37b643",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "No more snapshot hell. I tried it once, it was terrible. ",
        "createdAt" : "2017-02-22T21:39:59Z",
        "updatedAt" : "2017-02-22T21:40:00Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "a78405150fb7df46c9d88036f7db3167c553a844",
    "line" : 5,
    "diffHunk" : "@@ -51,4 +51,4 @@ before_script:\n script:\n   - java -version\n   - bin/scalafmt --test\n-  - sbt \";rebuild ;test-all ;publishSnapshot\"\n+  - sbt \";rebuild ;test-all\""
  },
  {
    "id" : "edf6c0ce-1dd3-4909-ad81-fe1d7a0eafa8",
    "prId" : 576,
    "comments" : [
      {
        "id" : "8ee96fb9-e8d1-46f2-8c8a-6cd38bf56d1f",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "I don't think that we should remove Travis just yet, lets test two CIs alongside in the beginning. ",
        "createdAt" : "2017-04-05T10:01:50Z",
        "updatedAt" : "2017-04-18T15:50:45Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "6f7996a2d8c7e20de820168075aeac76af9343e9",
    "line" : null,
    "diffHunk" : "@@ -5,17 +5,6 @@ scala:\n \n matrix:\n   include:\n-    - os: linux\n-      jdk: oraclejdk8\n-      language: scala\n-      before_install:\n-        - sudo apt-get -qq update\n-        - sudo sh -c \"echo 'deb http://llvm.org/apt/precise/ llvm-toolchain-precise-3.7 main' >> /etc/apt/sources.list\"\n-        - sudo sh -c \"echo 'deb http://llvm.org/apt/precise/ llvm-toolchain-precise main' >> /etc/apt/sources.list\"\n-        - wget -O - http://llvm.org/apt/llvm-snapshot.gpg.key | sudo apt-key add -\n-        - sudo add-apt-repository --yes ppa:ubuntu-toolchain-r/test\n-        - sudo apt-get -qq update\n-        - sudo apt-get install -y libgc-dev clang++-3.7 llvm-3.7 llvm-3.7-dev llvm-3.7-runtime llvm-3.7-tool libunwind7-dev"
  },
  {
    "id" : "b611c1d8-6a9d-40a2-8043-e561dc4d2503",
    "prId" : 642,
    "comments" : [
      {
        "id" : "e843f67f-6c69-4fba-b3f4-834ec91c8c61",
        "parentId" : null,
        "author" : {
          "login" : "MasseGuillaume",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/921490?u=1ea96b0787a224aed96b7091c354e76d0f55960c&v=4"
        },
        "body" : "why 3.7 ?",
        "createdAt" : "2017-04-22T04:37:17Z",
        "updatedAt" : "2017-06-01T20:47:30Z",
        "lastEditedBy" : {
          "login" : "MasseGuillaume",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/921490?u=1ea96b0787a224aed96b7091c354e76d0f55960c&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "411ee060-0f46-49c9-a6e1-1116efc7d0f4",
        "parentId" : "e843f67f-6c69-4fba-b3f4-834ec91c8c61",
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "To keep the macOS build on the same version, however, we could also change it so CI builds for oldest and newest supported LLVM version.",
        "createdAt" : "2017-04-22T11:40:59Z",
        "updatedAt" : "2017-06-01T20:47:30Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "df75fa01abb765be7ec3f642c3e9381c7937ef16",
    "line" : null,
    "diffHunk" : "@@ -46,6 +46,8 @@ matrix:\n         - brew link bdw-gc\n         - brew install jq\n         - brew install re2\n+        - brew install llvm@3.7\n+      env: PATH=\"$PATH:/usr/local/opt/llvm@3.7/bin\""
  },
  {
    "id" : "6bbc2466-5c89-43af-89dd-a7d6c402a649",
    "prId" : 716,
    "comments" : [
      {
        "id" : "efda4556-4399-4d4c-b090-e8cfa44270ad",
        "parentId" : null,
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "From working on the bindgen WIP this is needed to pick LLVM 3.7 and not the one provided by Travis.",
        "createdAt" : "2017-05-11T01:19:50Z",
        "updatedAt" : "2017-05-11T01:19:50Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "6764c207d406671a8f880729e4e73ae6930a19f7",
    "line" : 4,
    "diffHunk" : "@@ -36,6 +36,7 @@ matrix:\n         - sudo make install prefix=/usr\n         - make testinstall prefix=/usr\n         - popd\n+      env: PATH=\"/usr/lib/llvm-3.7/bin:$PATH\""
  },
  {
    "id" : "0f809107-798e-4f6f-89b2-d90c67aeb6eb",
    "prId" : 730,
    "comments" : [
      {
        "id" : "973f8780-b6ee-45bc-b206-bcb2a0a94ce3",
        "parentId" : null,
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "`travis lint` complains that you can only define one env var per matrix entry. One option would be to to use something else than an env variable to trigger the formatting check or start using build stages https://docs.travis-ci.com/user/build-stages/warm-cache/",
        "createdAt" : "2017-05-22T15:15:58Z",
        "updatedAt" : "2017-05-25T11:54:59Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "e7767b25-b65f-4b25-b59b-5617098a2abc",
        "parentId" : "973f8780-b6ee-45bc-b206-bcb2a0a94ce3",
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "Nice catch! We can set CLANG_FORMAT_PATH for every platform but run it only if it exists.",
        "createdAt" : "2017-05-25T10:03:06Z",
        "updatedAt" : "2017-05-25T11:54:59Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "b4207bfdb6670d3d59b4741389da751c4219894a",
    "line" : null,
    "diffHunk" : "@@ -8,47 +8,34 @@ matrix:\n     - os: linux\n       jdk: oraclejdk8\n       language: scala\n+      env:\n+        - SCALANATIVE_GC=boehm\n       before_install:\n-        - sudo apt-get -qq update\n-        - sudo sh -c \"echo 'deb http://apt.llvm.org/precise/ llvm-toolchain-precise-3.7 main' >> /etc/apt/sources.list\"\n-        - sudo sh -c \"echo 'deb http://apt.llvm.org/precise/ llvm-toolchain-precise main' >> /etc/apt/sources.list\"\n-        - wget -O - http://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add -\n-        - sudo add-apt-repository --yes ppa:ubuntu-toolchain-r/test\n-        - sudo apt-get -qq update\n-        - |\n-          sudo apt-get install -y \\\n-            clang++-3.7 \\\n-            llvm-3.7 \\\n-            llvm-3.7-dev \\\n-            llvm-3.7-runtime \\\n-            llvm-3.7-tool \\\n-            libgc-dev \\\n-            libunwind7-dev\n+        - bash bin/travis_linux_setup.sh\n \n-        # Install re2\n-        # (libre2-dev) since Xenial (16.04 LTS) http://packages.ubuntu.com/xenial/libre2-dev\n-        - sudo apt-get install -y make\n-        - export CXX=clang++-3.7\n-        - git clone https://code.googlesource.com/re2\n-        - pushd re2\n-        - git checkout 2017-03-01\n-        - make -j4 test\n-        - sudo make install prefix=/usr\n-        - make testinstall prefix=/usr\n-        - popd\n+    - os: linux\n+      jdk: oraclejdk8\n+      language: scala\n+      env:\n+        - SCALANATIVE_GC=none\n+      before_install:\n+        - bash bin/travis_linux_setup.sh\n+\n+    - os: osx\n+      osx_image: xcode7.3\n+      env:\n+        - SCALANATIVE_GC=boehm\n+        - CLANG_FORMAT_PATH=\"/usr/local/opt/llvm@4/bin/clang-format\"\n+      before_install:\n+        - bash bin/travis_mac_setup.sh\n \n     - os: osx\n       osx_image: xcode7.3\n+      env:\n+        - SCALANATIVE_GC=none\n+        - CLANG_FORMAT_PATH=\"/usr/local/opt/llvm@4/bin/clang-format\""
  },
  {
    "id" : "6f34f878-6f52-4e39-9594-31dbca0a331b",
    "prId" : 755,
    "comments" : [
      {
        "id" : "07416636-6870-435c-964e-403ee9e9c4dc",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "For the testing frameworks: they should depend on the test interface artifact, not the stubs artifact. ",
        "createdAt" : "2017-06-12T09:24:51Z",
        "updatedAt" : "2017-06-14T17:22:17Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "7b671d87-98c2-4189-bacc-b2a13dbbebc1",
        "parentId" : "07416636-6870-435c-964e-403ee9e9c4dc",
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "Also, once this PR is merged we should upstream changes made to `utest` and `scalacheck`. ",
        "createdAt" : "2017-06-12T09:25:31Z",
        "updatedAt" : "2017-06-14T17:22:17Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "f02f1006-d420-4428-961d-18b564b05db4",
        "parentId" : "07416636-6870-435c-964e-403ee9e9c4dc",
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "Btw, sbt-crossproject is now at `0.2.0`, we released newer version but haven't announced it yet.",
        "createdAt" : "2017-06-12T09:36:59Z",
        "updatedAt" : "2017-06-14T17:22:17Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "ffdecf4671c09b57ee29f119079c7982ad51bb5e",
    "line" : null,
    "diffHunk" : "@@ -67,7 +67,24 @@ script:\n   - java -version\n   - if [ -n \"$CLANG_FORMAT_PATH\" ]; then bin/clangfmt --test; fi\n   - bin/scalafmt --test\n-  - bash sbt -J-Xmx2G rebuild \"set scriptedBufferLog in sbtScalaNative := false\" test-all\n+  - sbt -J-Xmx2G rebuild\n+  - mkdir utest\n+  - pushd utest\n+  - git init .\n+  - git remote add -t cross-native Duhemm https://github.com/Duhemm/utest.git"
  },
  {
    "id" : "7b9b8f3e-e491-4f8c-90cc-edf9266245d7",
    "prId" : 755,
    "comments" : [
      {
        "id" : "902d4277-ca5d-4f02-86de-4a3dbb59343b",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "As soon as we remove temporary dependency on your branch of `utest` and `scalacheck`, we'll have no tests whatsoever for the testing framework integration. I suggest that we migrate our current mini-framework we used for `tests` project to the new testing framework integration to address this. ",
        "createdAt" : "2017-06-14T11:24:05Z",
        "updatedAt" : "2017-06-14T17:22:17Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "ffdecf4671c09b57ee29f119079c7982ad51bb5e",
    "line" : null,
    "diffHunk" : "@@ -61,7 +61,24 @@ script:\n   - java -version\n   - if [ -n \"$CLANG_FORMAT_PATH\" ]; then bin/clangfmt --test; fi\n   - bin/scalafmt --test\n-  - bash sbt -J-Xmx2G rebuild \"set scriptedBufferLog in sbtScalaNative := false\" test-all\n+  - sbt -J-Xmx2G rebuild\n+  - mkdir utest\n+  - pushd utest\n+  - git init .\n+  - git remote add -t cross-native Duhemm https://github.com/Duhemm/utest.git\n+  - git fetch Duhemm cross-native\n+  - git checkout Duhemm/cross-native\n+  - sbt publishLocal\n+  - popd\n+  - mkdir scalacheck\n+  - pushd scalacheck\n+  - git init .\n+  - git remote add -t cross-native Duhemm https://github.com/Duhemm/scalacheck.git\n+  - git fetch Duhemm cross-native\n+  - git checkout Duhemm/cross-native\n+  - sbt publishLocal\n+  - popd\n+  - bash sbt -J-Xmx2G \"set scriptedBufferLog in sbtScalaNative := false\" sandbox/test test-all"
  },
  {
    "id" : "5b355b01-4a3e-4864-817d-fe7743284b20",
    "prId" : 773,
    "comments" : [
      {
        "id" : "c531c3fd-bbe7-408c-bbf4-b92df80c73b0",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "One of the giant benefits of having unified travis setup script is that we can also share it to simplify 3-rd party builds too. Can we do caching without using `addons: apt: ...` (e.g. by using `before_cache`) ?",
        "createdAt" : "2017-06-06T09:48:45Z",
        "updatedAt" : "2017-06-06T16:10:41Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "b343a4d6-963b-4626-a523-7e2248d23d2d",
        "parentId" : "c531c3fd-bbe7-408c-bbf4-b92df80c73b0",
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "There's quite a few things to fix before the travis setup script can be used, such as making the LLVM version configurable. I've removed the `addons: apt` syntax, not sure if `cache: apt` will still work. It should if it caches the `.deb` files.",
        "createdAt" : "2017-06-06T11:17:35Z",
        "updatedAt" : "2017-06-06T16:10:41Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "97f3b024b8cb11c6c2f3a14d6f5866f33767ccc3",
    "line" : null,
    "diffHunk" : "@@ -32,6 +32,21 @@ matrix:\n       osx_image: xcode7.3\n       env: SCALANATIVE_GC=immix\n \n+addons:\n+  apt:\n+    sources:\n+    - ubuntu-toolchain-r-test\n+    - llvm-toolchain-precise-3.7\n+    packages:\n+    - clang++-3.7\n+    - llvm-3.7\n+    - llvm-3.7-dev\n+    - llvm-3.7-runtime\n+    - llvm-3.7-tools\n+    - libgc-dev\n+    - libunwind7-dev\n+    - make\n+"
  },
  {
    "id" : "d703cbc2-2f4e-4755-ab96-174c750f284e",
    "prId" : 773,
    "comments" : [
      {
        "id" : "79358889-6d22-4cdc-8f1b-6904ae0ffdf2",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "This doesn't seem to be sufficient, it still downloads things from LLVM repo:\r\n\r\nhttps://travis-ci.org/scala-native/scala-native/jobs/239922054#L242",
        "createdAt" : "2017-06-06T11:43:02Z",
        "updatedAt" : "2017-06-06T16:10:41Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "af244397-71f3-432d-93ca-fd757e3dca7f",
        "parentId" : "79358889-6d22-4cdc-8f1b-6904ae0ffdf2",
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "It looks like Travis only supported APT caching of private repositories (https://github.com/travis-ci/travis-ci/issues/5876 and https://github.com/travis-ci/docs-travis-ci-com/commit/bd8b56d501dbb47f76d139831c99f55ac69d1314).\r\n\r\nWould you accept this PR if I rephrase the message to not fix #757 and remove this line?",
        "createdAt" : "2017-06-06T15:39:53Z",
        "updatedAt" : "2017-06-06T16:10:41Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "12e1ad6a-fd0d-45ab-9d52-1e7be1cee296",
        "parentId" : "79358889-6d22-4cdc-8f1b-6904ae0ffdf2",
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "Sure, absolutely. ",
        "createdAt" : "2017-06-06T15:49:58Z",
        "updatedAt" : "2017-06-06T16:10:41Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "97f3b024b8cb11c6c2f3a14d6f5866f33767ccc3",
    "line" : null,
    "diffHunk" : "@@ -65,3 +65,14 @@ script:\n   - if [ -n \"$CLANG_FORMAT_PATH\" ]; then bin/clangfmt --test; fi\n   - bin/scalafmt --test\n   - bash sbt -J-Xmx2G rebuild \"set scriptedBufferLog in sbtScalaNative := false\" test-all\n+\n+before_cache:\n+  - find $HOME/.sbt -name \"*.lock\" | xargs rm\n+  - find $HOME/.ivy2 -name \"ivydata-*.properties\" | xargs rm\n+\n+cache:\n+  apt: true"
  },
  {
    "id" : "cc8f3ba5-ed32-4d3a-933f-94a1afec4a32",
    "prId" : 773,
    "comments" : [
      {
        "id" : "107dfcc6-ba98-4e0a-8de8-657f4bf97302",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "Please exclude `.ivy2/cache/org.scala-native/` and `.ivy2/local/org.scala-native/` here. Those should always be rebuild from source and never cached. ",
        "createdAt" : "2017-06-06T15:51:34Z",
        "updatedAt" : "2017-06-06T16:10:41Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "97f3b024b8cb11c6c2f3a14d6f5866f33767ccc3",
    "line" : 7,
    "diffHunk" : "@@ -65,3 +65,14 @@ script:\n   - if [ -n \"$CLANG_FORMAT_PATH\" ]; then bin/clangfmt --test; fi\n   - bin/scalafmt --test\n   - bash sbt -J-Xmx2G rebuild \"set scriptedBufferLog in sbtScalaNative := false\" test-all\n+\n+before_cache:\n+  - find $HOME/.sbt -name \"*.lock\" | xargs rm\n+  - find $HOME/.ivy2 -name \"ivydata-*.properties\" | xargs rm"
  },
  {
    "id" : "83788120-8329-4077-b2d9-b979a0a5ca79",
    "prId" : 1143,
    "comments" : [
      {
        "id" : "ef289ed3-04a4-46ab-907c-7831cb323615",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "We should probably include mima in `test-all` instead.",
        "createdAt" : "2018-03-07T13:07:51Z",
        "updatedAt" : "2018-03-19T10:55:34Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "59effef73f20af24e18aff5e47d77473b6b6b626",
    "line" : null,
    "diffHunk" : "@@ -53,7 +53,8 @@ script:\n       \"^^ $SBT_VERSION\" \\\n       rebuild \\\n       \"set scriptedBufferLog in sbtScalaNative := false\" \\\n-      test-all\n+      test-all \\\n+      \"tools/mimaReportBinaryIssues\""
  },
  {
    "id" : "8bd8b085-bd98-40f0-beb2-8b90b94f1aac",
    "prId" : 1302,
    "comments" : [
      {
        "id" : "02dad3ea-cc51-4b35-a597-5cb247f63cc6",
        "parentId" : null,
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "When `\"$MODE\" == \"compile-tests\"` then `publishLocal` is run. I assume we still want to delete any `org.scala-native` artifacts from the Ivy cache.",
        "createdAt" : "2018-09-20T23:56:25Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "ebea06fed4bd9bbf3ec373f772d5a3cde47fa92d",
    "line" : null,
    "diffHunk" : "@@ -8,60 +8,70 @@ dist: trusty\n jdk: oraclejdk8\n language: scala\n \n+services:\n+  - docker\n+\n env:\n   matrix:\n-    - SCALANATIVE_GC=boehm SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=boehm SBT_VERSION=1.2.1\n-    - SCALANATIVE_GC=immix SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=immix SBT_VERSION=1.2.1\n+    - MODE=source-checks\n+    - MODE=compile-tests SBT_VERSION=0.13.16\n+    - MODE=compile-tests SBT_VERSION=1.2.1\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n \n   global:\n     - MAVEN_REALM=\"Sonatype Nexus Repository Manager\"\n     - MAVEN_DOMAIN=\"oss.sonatype.org\"\n     - secure: \"SrnxYRHUcevhm/oWU0mLC2l/EWSEa52oaaSqGrlMCvSX01udMMd5q4qSCzOpNlHviLBmdVxTBTnzlpyc8wnftezgs0pm8JFFj6CuiT37QNcCTtd5PN0QhVzqQauE2oWVkG97iwZFsz9pX87tzLRIlGIRa9A8CuoFY14lhIfmBK5wdiceZ3uBTu/Dcf/kzzC8yAykPhxjPSzeSsDUO2DBqsWjboOGEG2rNyJjKKBvChPyWAm3/4WPmKTV1I5aXUBiIffIWIzZONBobyn71hYfNFjkVF9+uEhsZA8T+5YZyPkyHrsONMBR5QxxDxGgz2YDEJU4aRvOOBW9yZcWa8jpEuBIj1bKFR6g3ZFOp0VgN7bAY4xq1E984T6yypvLiRz8/f7xOW+TLojcrCiz0CDrAjD0Ne9p8da9E1IUuiazqKZ9+TbbY6MHex9wnECEehfpAisI/r2X+vaARdF0zn60M+8h7ek7qIJfK1/7nXXTmy+ABmjrET+5q0oFzTz+0KI4f52KnTxPY8w7Yl7UVxe9LVkXmo9rFlGaeed1JiELBKJRc/sngqCCf1loq9rANK0ik4A4HWDW2pcYj21g8jer++s5IV7eimaX0TAiUgxing5TaGl/lWWg32cpjSqwUH69aOgfOBRJABh6zCK6qN3KCfOPfua+D0W0aDbAXMwpzyw=\"\n     - secure: \"lAh0fiYHWaNd9Z/slDzGj2gSUF1oDwaNBlZX6eeIASFZO2W+HF79UqD/ZGsTn58Ek1XJ9FLWk0+3BIHpoLBv7S7kj2QG8AVGi4EkhvvPc/7RjcO8EM3uN8KXY/XjlDJEI4BmxX1XuzPvwhhbTuk7NY+9DFqhWV3V5xYmtMt5yJ6rbu3NROGHoiiJvBvhzKHbjkoIX0dX/dHAS2bUcRmv6BZiBA9nI1WiDMTrRjnTm1x/v4kqLG5k4UwbBRU33foFzZJrFs04jJ47GXdczCyAH7Xu+NtvxRni9fjUgEKa75PtN4XLn8GRXC6u7HCPfHz2cHTeLyLxxKK1DZ+P08+bkG4MdoaknlN7HUg1gf9zWQYuanUMiqIMry5+URT9A5Jno+Kkr9UKJKqRHxBYVLenTqVCAj8KQONdEm5vCSkqv3dfpQRrljf4CX20vO28cDqXpOTzYdFOApH3Ah8I9uXmysnto9DgVJG3ZX7ibZ6gIHE5cpZuJsBFlVYAdEEygPhRKJrtnmZO7cL7pUIWT8nj3buOuU9uK1+JpWQ32GV+vyJolDRYamxrKLNbp/SVwWHaQk8+igj4zfS42XNDbOtD6KbHdwMzRH4AdpIR8ZWfB2BXSaY9XE0fWGDgG2h+7yropmMa3DWTdT8OWdXiPkn0TDhT2GhVNwxh5G4OB1nGpgw=\"\n \n-before_install:\n-  - bash scripts/travis_setup.sh\n-\n-before_script:\n-  - if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then\n-      echo \"Incoming pull request from https://github.com/$TRAVIS_REPO_SLUG/pull/$TRAVIS_PULL_REQUEST\";\n-      author=$(curl -u dummy4dummy:dummy2dummy -s \"https://api.github.com/repos/$TRAVIS_REPO_SLUG/pulls/$TRAVIS_PULL_REQUEST\" | jq -r \".user.login\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      echo \"Pull request submitted by $author\";\n-      signed=$(curl -s https://www.lightbend.com/contribute/cla/scala/check/$author | jq -r \".signed\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      if [ \"$signed\" = \"true\" ] ; then\n-        echo \"CLA check for $author successful\";\n-      else\n-        echo \"CLA check for $author failed\";\n-        echo \"Please sign the Scala CLA to contribute to Scala Native\";\n-        echo \"Go to https://www.lightbend.com/contribute/cla/scala and then resubmit this pull request\";\n-        exit 1;\n-      fi;\n-    fi;\n-\n script:\n   - java -version\n-  - if [ -n \"$CLANG_FORMAT_PATH\" ]; then scripts/clangfmt --test; fi\n-  - scripts/scalafmt --test\n-  - >\n-    sbt \\\n-      \"-no-colors\" \\\n-      \"-J-Xmx2G\" \\\n-      \"^^ $SBT_VERSION\" \\\n-      rebuild \\\n-      \"set scriptedBufferLog in sbtScalaNative := false\" \\\n-      test-all\n+  - if [ \"$MODE\" == \"source-checks\" ]; then\n+      if [ -n \"$CLANG_FORMAT_PATH\" ]; then\n+        scripts/clangfmt --test;\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+      fi;\n+      scripts/scalafmt --test;\n+      if [ $? -ne 0 ] ; then exit 1; fi;\n+      if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then\n+        echo \"Incoming pull request from https://github.com/$TRAVIS_REPO_SLUG/pull/$TRAVIS_PULL_REQUEST\";\n+        author=$(curl -u dummy4dummy:dummy2dummy -s \"https://api.github.com/repos/$TRAVIS_REPO_SLUG/pulls/$TRAVIS_PULL_REQUEST\" | jq -r \".user.login\");\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+        echo \"Pull request submitted by $author\";\n+        signed=$(curl -s https://www.lightbend.com/contribute/cla/scala/check/$author | jq -r \".signed\");\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+        if [ \"$signed\" = \"true\" ] ; then\n+          echo \"CLA check for $author successful\";\n+        else\n+          echo \"CLA check for $author failed\";\n+          echo \"Please sign the Scala CLA to contribute to Scala Native\";\n+          echo \"Go to https://www.lightbend.com/contribute/cla/scala and then resubmit this pull request\";\n+          exit 1;\n+        fi;\n+      fi;\n+    fi\n+  - if [ \"$MODE\" == \"compile-tests\" ]; then\n+      sbt \"-no-colors\" \"-J-Xmx2G\" \"^^ $SBT_VERSION\" nscplugin/publishLocal sbtScalaNative/publishLocal test-compile;\n+    fi\n+  - if [ \"$MODE\" == \"runtime-tests\" ]; then\n+      ./ci-docker/load-cached-images.sh\n+      docker run --rm --privileged multiarch/qemu-user-static:register;\n+      docker build --cache-from scala-native-testing:linux-$TARGET_DOCKER_PLATFORM -t scala-native-testing:linux-$TARGET_DOCKER_PLATFORM --build-arg TARGET_DOCKER_PLATFORM=$TARGET_DOCKER_PLATFORM --build-arg HOST_DEBIAN_PLATFORM=amd64 ci-docker;\n+      ./ci-docker/run-test-travis.sh;\n+    fi\n \n before_cache:\n   - find $HOME/.sbt -name \"*.lock\" | xargs rm\n-  - find $HOME/.ivy2 -name \"ivydata-*.properties\" | xargs rm\n-  - rm -rf $HOME/.ivy2/{cache,local}/org.scala-native/"
  },
  {
    "id" : "fe9f124e-2e13-400f-9df4-cb0836892094",
    "prId" : 1302,
    "comments" : [
      {
        "id" : "864b8c22-8839-4863-b1e2-151be3d97e1c",
        "parentId" : null,
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "Do you have an idea about how much time this saves? For scala-native-bindgen this ended up adding 1+ gigabyte to the build cache and the docker image import took around 2 minutes.",
        "createdAt" : "2018-09-21T00:00:00Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "ebea06fed4bd9bbf3ec373f772d5a3cde47fa92d",
    "line" : 78,
    "diffHunk" : "@@ -8,60 +8,70 @@ dist: trusty\n jdk: oraclejdk8\n language: scala\n \n+services:\n+  - docker\n+\n env:\n   matrix:\n-    - SCALANATIVE_GC=boehm SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=boehm SBT_VERSION=1.2.1\n-    - SCALANATIVE_GC=immix SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=immix SBT_VERSION=1.2.1\n+    - MODE=source-checks\n+    - MODE=compile-tests SBT_VERSION=0.13.16\n+    - MODE=compile-tests SBT_VERSION=1.2.1\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n \n   global:\n     - MAVEN_REALM=\"Sonatype Nexus Repository Manager\"\n     - MAVEN_DOMAIN=\"oss.sonatype.org\"\n     - secure: \"SrnxYRHUcevhm/oWU0mLC2l/EWSEa52oaaSqGrlMCvSX01udMMd5q4qSCzOpNlHviLBmdVxTBTnzlpyc8wnftezgs0pm8JFFj6CuiT37QNcCTtd5PN0QhVzqQauE2oWVkG97iwZFsz9pX87tzLRIlGIRa9A8CuoFY14lhIfmBK5wdiceZ3uBTu/Dcf/kzzC8yAykPhxjPSzeSsDUO2DBqsWjboOGEG2rNyJjKKBvChPyWAm3/4WPmKTV1I5aXUBiIffIWIzZONBobyn71hYfNFjkVF9+uEhsZA8T+5YZyPkyHrsONMBR5QxxDxGgz2YDEJU4aRvOOBW9yZcWa8jpEuBIj1bKFR6g3ZFOp0VgN7bAY4xq1E984T6yypvLiRz8/f7xOW+TLojcrCiz0CDrAjD0Ne9p8da9E1IUuiazqKZ9+TbbY6MHex9wnECEehfpAisI/r2X+vaARdF0zn60M+8h7ek7qIJfK1/7nXXTmy+ABmjrET+5q0oFzTz+0KI4f52KnTxPY8w7Yl7UVxe9LVkXmo9rFlGaeed1JiELBKJRc/sngqCCf1loq9rANK0ik4A4HWDW2pcYj21g8jer++s5IV7eimaX0TAiUgxing5TaGl/lWWg32cpjSqwUH69aOgfOBRJABh6zCK6qN3KCfOPfua+D0W0aDbAXMwpzyw=\"\n     - secure: \"lAh0fiYHWaNd9Z/slDzGj2gSUF1oDwaNBlZX6eeIASFZO2W+HF79UqD/ZGsTn58Ek1XJ9FLWk0+3BIHpoLBv7S7kj2QG8AVGi4EkhvvPc/7RjcO8EM3uN8KXY/XjlDJEI4BmxX1XuzPvwhhbTuk7NY+9DFqhWV3V5xYmtMt5yJ6rbu3NROGHoiiJvBvhzKHbjkoIX0dX/dHAS2bUcRmv6BZiBA9nI1WiDMTrRjnTm1x/v4kqLG5k4UwbBRU33foFzZJrFs04jJ47GXdczCyAH7Xu+NtvxRni9fjUgEKa75PtN4XLn8GRXC6u7HCPfHz2cHTeLyLxxKK1DZ+P08+bkG4MdoaknlN7HUg1gf9zWQYuanUMiqIMry5+URT9A5Jno+Kkr9UKJKqRHxBYVLenTqVCAj8KQONdEm5vCSkqv3dfpQRrljf4CX20vO28cDqXpOTzYdFOApH3Ah8I9uXmysnto9DgVJG3ZX7ibZ6gIHE5cpZuJsBFlVYAdEEygPhRKJrtnmZO7cL7pUIWT8nj3buOuU9uK1+JpWQ32GV+vyJolDRYamxrKLNbp/SVwWHaQk8+igj4zfS42XNDbOtD6KbHdwMzRH4AdpIR8ZWfB2BXSaY9XE0fWGDgG2h+7yropmMa3DWTdT8OWdXiPkn0TDhT2GhVNwxh5G4OB1nGpgw=\"\n \n-before_install:\n-  - bash scripts/travis_setup.sh\n-\n-before_script:\n-  - if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then\n-      echo \"Incoming pull request from https://github.com/$TRAVIS_REPO_SLUG/pull/$TRAVIS_PULL_REQUEST\";\n-      author=$(curl -u dummy4dummy:dummy2dummy -s \"https://api.github.com/repos/$TRAVIS_REPO_SLUG/pulls/$TRAVIS_PULL_REQUEST\" | jq -r \".user.login\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      echo \"Pull request submitted by $author\";\n-      signed=$(curl -s https://www.lightbend.com/contribute/cla/scala/check/$author | jq -r \".signed\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      if [ \"$signed\" = \"true\" ] ; then\n-        echo \"CLA check for $author successful\";\n-      else\n-        echo \"CLA check for $author failed\";\n-        echo \"Please sign the Scala CLA to contribute to Scala Native\";\n-        echo \"Go to https://www.lightbend.com/contribute/cla/scala and then resubmit this pull request\";\n-        exit 1;\n-      fi;\n-    fi;\n-\n script:\n   - java -version\n-  - if [ -n \"$CLANG_FORMAT_PATH\" ]; then scripts/clangfmt --test; fi\n-  - scripts/scalafmt --test\n-  - >\n-    sbt \\\n-      \"-no-colors\" \\\n-      \"-J-Xmx2G\" \\\n-      \"^^ $SBT_VERSION\" \\\n-      rebuild \\\n-      \"set scriptedBufferLog in sbtScalaNative := false\" \\\n-      test-all\n+  - if [ \"$MODE\" == \"source-checks\" ]; then\n+      if [ -n \"$CLANG_FORMAT_PATH\" ]; then\n+        scripts/clangfmt --test;\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+      fi;\n+      scripts/scalafmt --test;\n+      if [ $? -ne 0 ] ; then exit 1; fi;\n+      if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then\n+        echo \"Incoming pull request from https://github.com/$TRAVIS_REPO_SLUG/pull/$TRAVIS_PULL_REQUEST\";\n+        author=$(curl -u dummy4dummy:dummy2dummy -s \"https://api.github.com/repos/$TRAVIS_REPO_SLUG/pulls/$TRAVIS_PULL_REQUEST\" | jq -r \".user.login\");\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+        echo \"Pull request submitted by $author\";\n+        signed=$(curl -s https://www.lightbend.com/contribute/cla/scala/check/$author | jq -r \".signed\");\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+        if [ \"$signed\" = \"true\" ] ; then\n+          echo \"CLA check for $author successful\";\n+        else\n+          echo \"CLA check for $author failed\";\n+          echo \"Please sign the Scala CLA to contribute to Scala Native\";\n+          echo \"Go to https://www.lightbend.com/contribute/cla/scala and then resubmit this pull request\";\n+          exit 1;\n+        fi;\n+      fi;\n+    fi\n+  - if [ \"$MODE\" == \"compile-tests\" ]; then\n+      sbt \"-no-colors\" \"-J-Xmx2G\" \"^^ $SBT_VERSION\" nscplugin/publishLocal sbtScalaNative/publishLocal test-compile;\n+    fi\n+  - if [ \"$MODE\" == \"runtime-tests\" ]; then\n+      ./ci-docker/load-cached-images.sh\n+      docker run --rm --privileged multiarch/qemu-user-static:register;\n+      docker build --cache-from scala-native-testing:linux-$TARGET_DOCKER_PLATFORM -t scala-native-testing:linux-$TARGET_DOCKER_PLATFORM --build-arg TARGET_DOCKER_PLATFORM=$TARGET_DOCKER_PLATFORM --build-arg HOST_DEBIAN_PLATFORM=amd64 ci-docker;\n+      ./ci-docker/run-test-travis.sh;\n+    fi\n \n before_cache:\n   - find $HOME/.sbt -name \"*.lock\" | xargs rm\n-  - find $HOME/.ivy2 -name \"ivydata-*.properties\" | xargs rm\n-  - rm -rf $HOME/.ivy2/{cache,local}/org.scala-native/\n+  - find $HOME/.ivy2 -name \"ivydata-*.properties\" | sudo xargs rm\n+  - mkdir -p $HOME/docker && docker images -a --filter=reference=\"scala-native-testing:*\" --format '{{.Repository}}:{{.Tag}} {{.ID}}'\n+    | xargs -n 2 -t sh -c 'test -e $HOME/docker/$1.tar.gz || docker save $0 | gzip -2 > $HOME/docker/$1.tar.gz'"
  },
  {
    "id" : "544dc7ca-0836-4d12-b380-be510a7e2f49",
    "prId" : 1302,
    "comments" : [
      {
        "id" : "069a6422-bc3b-48e5-944f-814b020a1e05",
        "parentId" : null,
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "I suggest putting the legal checks before the formatting checks.",
        "createdAt" : "2018-09-21T00:00:58Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "ebea06fed4bd9bbf3ec373f772d5a3cde47fa92d",
    "line" : null,
    "diffHunk" : "@@ -8,60 +8,70 @@ dist: trusty\n jdk: oraclejdk8\n language: scala\n \n+services:\n+  - docker\n+\n env:\n   matrix:\n-    - SCALANATIVE_GC=boehm SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=boehm SBT_VERSION=1.2.1\n-    - SCALANATIVE_GC=immix SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=immix SBT_VERSION=1.2.1\n+    - MODE=source-checks\n+    - MODE=compile-tests SBT_VERSION=0.13.16\n+    - MODE=compile-tests SBT_VERSION=1.2.1\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n \n   global:\n     - MAVEN_REALM=\"Sonatype Nexus Repository Manager\"\n     - MAVEN_DOMAIN=\"oss.sonatype.org\"\n     - secure: \"SrnxYRHUcevhm/oWU0mLC2l/EWSEa52oaaSqGrlMCvSX01udMMd5q4qSCzOpNlHviLBmdVxTBTnzlpyc8wnftezgs0pm8JFFj6CuiT37QNcCTtd5PN0QhVzqQauE2oWVkG97iwZFsz9pX87tzLRIlGIRa9A8CuoFY14lhIfmBK5wdiceZ3uBTu/Dcf/kzzC8yAykPhxjPSzeSsDUO2DBqsWjboOGEG2rNyJjKKBvChPyWAm3/4WPmKTV1I5aXUBiIffIWIzZONBobyn71hYfNFjkVF9+uEhsZA8T+5YZyPkyHrsONMBR5QxxDxGgz2YDEJU4aRvOOBW9yZcWa8jpEuBIj1bKFR6g3ZFOp0VgN7bAY4xq1E984T6yypvLiRz8/f7xOW+TLojcrCiz0CDrAjD0Ne9p8da9E1IUuiazqKZ9+TbbY6MHex9wnECEehfpAisI/r2X+vaARdF0zn60M+8h7ek7qIJfK1/7nXXTmy+ABmjrET+5q0oFzTz+0KI4f52KnTxPY8w7Yl7UVxe9LVkXmo9rFlGaeed1JiELBKJRc/sngqCCf1loq9rANK0ik4A4HWDW2pcYj21g8jer++s5IV7eimaX0TAiUgxing5TaGl/lWWg32cpjSqwUH69aOgfOBRJABh6zCK6qN3KCfOPfua+D0W0aDbAXMwpzyw=\"\n     - secure: \"lAh0fiYHWaNd9Z/slDzGj2gSUF1oDwaNBlZX6eeIASFZO2W+HF79UqD/ZGsTn58Ek1XJ9FLWk0+3BIHpoLBv7S7kj2QG8AVGi4EkhvvPc/7RjcO8EM3uN8KXY/XjlDJEI4BmxX1XuzPvwhhbTuk7NY+9DFqhWV3V5xYmtMt5yJ6rbu3NROGHoiiJvBvhzKHbjkoIX0dX/dHAS2bUcRmv6BZiBA9nI1WiDMTrRjnTm1x/v4kqLG5k4UwbBRU33foFzZJrFs04jJ47GXdczCyAH7Xu+NtvxRni9fjUgEKa75PtN4XLn8GRXC6u7HCPfHz2cHTeLyLxxKK1DZ+P08+bkG4MdoaknlN7HUg1gf9zWQYuanUMiqIMry5+URT9A5Jno+Kkr9UKJKqRHxBYVLenTqVCAj8KQONdEm5vCSkqv3dfpQRrljf4CX20vO28cDqXpOTzYdFOApH3Ah8I9uXmysnto9DgVJG3ZX7ibZ6gIHE5cpZuJsBFlVYAdEEygPhRKJrtnmZO7cL7pUIWT8nj3buOuU9uK1+JpWQ32GV+vyJolDRYamxrKLNbp/SVwWHaQk8+igj4zfS42XNDbOtD6KbHdwMzRH4AdpIR8ZWfB2BXSaY9XE0fWGDgG2h+7yropmMa3DWTdT8OWdXiPkn0TDhT2GhVNwxh5G4OB1nGpgw=\"\n \n-before_install:\n-  - bash scripts/travis_setup.sh\n-\n-before_script:\n-  - if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then\n-      echo \"Incoming pull request from https://github.com/$TRAVIS_REPO_SLUG/pull/$TRAVIS_PULL_REQUEST\";\n-      author=$(curl -u dummy4dummy:dummy2dummy -s \"https://api.github.com/repos/$TRAVIS_REPO_SLUG/pulls/$TRAVIS_PULL_REQUEST\" | jq -r \".user.login\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      echo \"Pull request submitted by $author\";\n-      signed=$(curl -s https://www.lightbend.com/contribute/cla/scala/check/$author | jq -r \".signed\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      if [ \"$signed\" = \"true\" ] ; then\n-        echo \"CLA check for $author successful\";\n-      else\n-        echo \"CLA check for $author failed\";\n-        echo \"Please sign the Scala CLA to contribute to Scala Native\";\n-        echo \"Go to https://www.lightbend.com/contribute/cla/scala and then resubmit this pull request\";\n-        exit 1;\n-      fi;\n-    fi;\n-\n script:\n   - java -version\n-  - if [ -n \"$CLANG_FORMAT_PATH\" ]; then scripts/clangfmt --test; fi\n-  - scripts/scalafmt --test\n-  - >\n-    sbt \\\n-      \"-no-colors\" \\\n-      \"-J-Xmx2G\" \\\n-      \"^^ $SBT_VERSION\" \\\n-      rebuild \\\n-      \"set scriptedBufferLog in sbtScalaNative := false\" \\\n-      test-all\n+  - if [ \"$MODE\" == \"source-checks\" ]; then\n+      if [ -n \"$CLANG_FORMAT_PATH\" ]; then\n+        scripts/clangfmt --test;\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+      fi;\n+      scripts/scalafmt --test;\n+      if [ $? -ne 0 ] ; then exit 1; fi;\n+      if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then"
  },
  {
    "id" : "2bf210cf-325a-44d6-be76-975e40e06ddd",
    "prId" : 1302,
    "comments" : [
      {
        "id" : "9ebab58c-9818-4980-a9ca-9615c9628856",
        "parentId" : null,
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "I know this is mostly copied from the previous code, but these checks might be either simplified using `set -e` or\r\n\r\n```sh\r\nscripts/clangfmt --test || exit 1;\r\n```",
        "createdAt" : "2018-09-21T00:39:37Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "ebea06fed4bd9bbf3ec373f772d5a3cde47fa92d",
    "line" : null,
    "diffHunk" : "@@ -8,60 +8,70 @@ dist: trusty\n jdk: oraclejdk8\n language: scala\n \n+services:\n+  - docker\n+\n env:\n   matrix:\n-    - SCALANATIVE_GC=boehm SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=boehm SBT_VERSION=1.2.1\n-    - SCALANATIVE_GC=immix SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=immix SBT_VERSION=1.2.1\n+    - MODE=source-checks\n+    - MODE=compile-tests SBT_VERSION=0.13.16\n+    - MODE=compile-tests SBT_VERSION=1.2.1\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n \n   global:\n     - MAVEN_REALM=\"Sonatype Nexus Repository Manager\"\n     - MAVEN_DOMAIN=\"oss.sonatype.org\"\n     - secure: \"SrnxYRHUcevhm/oWU0mLC2l/EWSEa52oaaSqGrlMCvSX01udMMd5q4qSCzOpNlHviLBmdVxTBTnzlpyc8wnftezgs0pm8JFFj6CuiT37QNcCTtd5PN0QhVzqQauE2oWVkG97iwZFsz9pX87tzLRIlGIRa9A8CuoFY14lhIfmBK5wdiceZ3uBTu/Dcf/kzzC8yAykPhxjPSzeSsDUO2DBqsWjboOGEG2rNyJjKKBvChPyWAm3/4WPmKTV1I5aXUBiIffIWIzZONBobyn71hYfNFjkVF9+uEhsZA8T+5YZyPkyHrsONMBR5QxxDxGgz2YDEJU4aRvOOBW9yZcWa8jpEuBIj1bKFR6g3ZFOp0VgN7bAY4xq1E984T6yypvLiRz8/f7xOW+TLojcrCiz0CDrAjD0Ne9p8da9E1IUuiazqKZ9+TbbY6MHex9wnECEehfpAisI/r2X+vaARdF0zn60M+8h7ek7qIJfK1/7nXXTmy+ABmjrET+5q0oFzTz+0KI4f52KnTxPY8w7Yl7UVxe9LVkXmo9rFlGaeed1JiELBKJRc/sngqCCf1loq9rANK0ik4A4HWDW2pcYj21g8jer++s5IV7eimaX0TAiUgxing5TaGl/lWWg32cpjSqwUH69aOgfOBRJABh6zCK6qN3KCfOPfua+D0W0aDbAXMwpzyw=\"\n     - secure: \"lAh0fiYHWaNd9Z/slDzGj2gSUF1oDwaNBlZX6eeIASFZO2W+HF79UqD/ZGsTn58Ek1XJ9FLWk0+3BIHpoLBv7S7kj2QG8AVGi4EkhvvPc/7RjcO8EM3uN8KXY/XjlDJEI4BmxX1XuzPvwhhbTuk7NY+9DFqhWV3V5xYmtMt5yJ6rbu3NROGHoiiJvBvhzKHbjkoIX0dX/dHAS2bUcRmv6BZiBA9nI1WiDMTrRjnTm1x/v4kqLG5k4UwbBRU33foFzZJrFs04jJ47GXdczCyAH7Xu+NtvxRni9fjUgEKa75PtN4XLn8GRXC6u7HCPfHz2cHTeLyLxxKK1DZ+P08+bkG4MdoaknlN7HUg1gf9zWQYuanUMiqIMry5+URT9A5Jno+Kkr9UKJKqRHxBYVLenTqVCAj8KQONdEm5vCSkqv3dfpQRrljf4CX20vO28cDqXpOTzYdFOApH3Ah8I9uXmysnto9DgVJG3ZX7ibZ6gIHE5cpZuJsBFlVYAdEEygPhRKJrtnmZO7cL7pUIWT8nj3buOuU9uK1+JpWQ32GV+vyJolDRYamxrKLNbp/SVwWHaQk8+igj4zfS42XNDbOtD6KbHdwMzRH4AdpIR8ZWfB2BXSaY9XE0fWGDgG2h+7yropmMa3DWTdT8OWdXiPkn0TDhT2GhVNwxh5G4OB1nGpgw=\"\n \n-before_install:\n-  - bash scripts/travis_setup.sh\n-\n-before_script:\n-  - if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then\n-      echo \"Incoming pull request from https://github.com/$TRAVIS_REPO_SLUG/pull/$TRAVIS_PULL_REQUEST\";\n-      author=$(curl -u dummy4dummy:dummy2dummy -s \"https://api.github.com/repos/$TRAVIS_REPO_SLUG/pulls/$TRAVIS_PULL_REQUEST\" | jq -r \".user.login\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      echo \"Pull request submitted by $author\";\n-      signed=$(curl -s https://www.lightbend.com/contribute/cla/scala/check/$author | jq -r \".signed\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      if [ \"$signed\" = \"true\" ] ; then\n-        echo \"CLA check for $author successful\";\n-      else\n-        echo \"CLA check for $author failed\";\n-        echo \"Please sign the Scala CLA to contribute to Scala Native\";\n-        echo \"Go to https://www.lightbend.com/contribute/cla/scala and then resubmit this pull request\";\n-        exit 1;\n-      fi;\n-    fi;\n-\n script:\n   - java -version\n-  - if [ -n \"$CLANG_FORMAT_PATH\" ]; then scripts/clangfmt --test; fi\n-  - scripts/scalafmt --test\n-  - >\n-    sbt \\\n-      \"-no-colors\" \\\n-      \"-J-Xmx2G\" \\\n-      \"^^ $SBT_VERSION\" \\\n-      rebuild \\\n-      \"set scriptedBufferLog in sbtScalaNative := false\" \\\n-      test-all\n+  - if [ \"$MODE\" == \"source-checks\" ]; then\n+      if [ -n \"$CLANG_FORMAT_PATH\" ]; then\n+        scripts/clangfmt --test;\n+        if [ $? -ne 0 ] ; then exit 1; fi;"
  },
  {
    "id" : "ce70fd9d-fdaf-49be-9976-65411f52e068",
    "prId" : 1302,
    "comments" : [
      {
        "id" : "372e0429-3717-4515-83e9-3fbf38d68cb2",
        "parentId" : null,
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "The `TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library` variables don't look necessary in this PR.\r\n\r\nI am curious what the motivation is for separating `test-all` into the `compile-tests` and `test-runtime` modes?\r\n\r\nIf I remove the above variables I see the following test matrix for `MODE=runtime-tests`:\r\n\r\n```\r\nSCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\r\nSCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\r\nSCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\r\nSCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\r\n```\r\n\r\n`test-runtime` implies `sbtScalaNative/scripted` so it looks like for sbt 1.2.1, this will only run the `scripted` tests for each GC configuration in order to reduce the test time. Is that correctly understood?\r\n\r\nLooking at the [latest build](https://travis-ci.org/scala-native/scala-native/builds/431207179) the sbt 1.2.1 build jobs take longer to run than the presumable more involved sbt 0.13.16 build jobs. Kind of weird. 🤔 ",
        "createdAt" : "2018-09-21T00:45:29Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "b161fc43-7737-46aa-8044-ebf83b1ccd41",
        "parentId" : "372e0429-3717-4515-83e9-3fbf38d68cb2",
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "@jonas I have an impression that 1.x has slower startup time than 0.13.x. Scripted starts a new sbt instance per test suite, so slower startup time is multiplied by the number of test suites. ",
        "createdAt" : "2018-09-21T10:59:15Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "c05b42af-ed1a-493c-841d-ea6d8530aab2",
        "parentId" : "372e0429-3717-4515-83e9-3fbf38d68cb2",
        "author" : {
          "login" : "shadaj",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/543055?u=161e6cc6f1aa3d70a15d254c873cf054b1ac5b6f&v=4"
        },
        "body" : "@jonas eventually (with the 32-bit support PR), there will be additional matrix elements with `TEST_CONTAINER=scala-native-testing:linux-i386` and `TARGET_DOCKER_PLATFORM=i386`. So this just gets the structure set up for later.",
        "createdAt" : "2018-09-25T18:38:45Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "shadaj",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/543055?u=161e6cc6f1aa3d70a15d254c873cf054b1ac5b6f&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "ebea06fed4bd9bbf3ec373f772d5a3cde47fa92d",
    "line" : null,
    "diffHunk" : "@@ -8,60 +8,70 @@ dist: trusty\n jdk: oraclejdk8\n language: scala\n \n+services:\n+  - docker\n+\n env:\n   matrix:\n-    - SCALANATIVE_GC=boehm SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=boehm SBT_VERSION=1.2.1\n-    - SCALANATIVE_GC=immix SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=immix SBT_VERSION=1.2.1\n+    - MODE=source-checks\n+    - MODE=compile-tests SBT_VERSION=0.13.16\n+    - MODE=compile-tests SBT_VERSION=1.2.1\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\""
  },
  {
    "id" : "24d4c8dc-f990-4808-a65b-be9be94c1b5f",
    "prId" : 1302,
    "comments" : [
      {
        "id" : "d8c63b94-e1cd-48ca-8fc4-482bdce707f8",
        "parentId" : null,
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "Have you considered using docker-compose to manage the environment variable and what scripts get run? It makes it very easy to run a specific build job locally and potentially remove the need for `run-test-travis.sh`.",
        "createdAt" : "2018-09-21T01:36:13Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "91bc9bae-0d7e-4876-9a3b-1333a1252c4c",
        "parentId" : "d8c63b94-e1cd-48ca-8fc4-482bdce707f8",
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "Also showing the docker-compose service names in the Travis CI matrix's environment setting makes it very easy to reproduce a specific build job locally:\r\n\r\n - `sbt-1.2.3-gc-boehm-arch-x86_64`\r\n - `sbt-0.13.17-gc-immix-arch-x86_32`",
        "createdAt" : "2018-09-21T02:24:57Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "a8cb3920-68c5-4b7b-b341-b7d3cbb111cb",
        "parentId" : "d8c63b94-e1cd-48ca-8fc4-482bdce707f8",
        "author" : {
          "login" : "shadaj",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/543055?u=161e6cc6f1aa3d70a15d254c873cf054b1ac5b6f&v=4"
        },
        "body" : "The main reason I didn't go with that approach was to prevent duplication with definition of environment variables inside the docker-compose config but also referencing the same information when identifying which container to run in Travis. I'll look at setting up a script that automatically builds and runs a specific platform test though.",
        "createdAt" : "2018-09-25T18:43:57Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "shadaj",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/543055?u=161e6cc6f1aa3d70a15d254c873cf054b1ac5b6f&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "dd1a09fa-df41-4aba-91a7-57ca417cc48b",
        "parentId" : "d8c63b94-e1cd-48ca-8fc4-482bdce707f8",
        "author" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "body" : "As I see it you either duplicate it in `.travis.yml` or in the docker-compose.yml file. To me the whole point of using docker is to allow reproducing the build environment everywhere, not just in Travis. Anyway, we will only need docker images for each combination of `x86_64`/`x86_32` and LLVM version. The rest can be managed with environment variables.",
        "createdAt" : "2018-09-26T15:39:16Z",
        "updatedAt" : "2018-09-26T15:39:16Z",
        "lastEditedBy" : {
          "login" : "jonas",
          "name" : null,
          "avatarUrl" : "https://avatars2.githubusercontent.com/u/8417?u=fd2f29f433df62751b5690a1bddee04bb4627d21&v=4"
        },
        "tags" : [
        ]
      },
      {
        "id" : "c1a6a0b7-7763-44ad-9e8d-6911ff8e074c",
        "parentId" : "d8c63b94-e1cd-48ca-8fc4-482bdce707f8",
        "author" : {
          "login" : "shadaj",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/543055?u=161e6cc6f1aa3d70a15d254c873cf054b1ac5b6f&v=4"
        },
        "body" : "The duplication I see is with `.travis.yml` having to identify which container to use but also having the actual details of each container in the `docker-compose.yml`. I'm also imagining having a lot more containers in the future with support for ARM and beyond, this approach is actually very much based off what Rust does (https://travis-ci.org/rust-lang/rust/builds/433482440).",
        "createdAt" : "2018-09-26T16:22:02Z",
        "updatedAt" : "2018-09-26T16:22:02Z",
        "lastEditedBy" : {
          "login" : "shadaj",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/543055?u=161e6cc6f1aa3d70a15d254c873cf054b1ac5b6f&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "ebea06fed4bd9bbf3ec373f772d5a3cde47fa92d",
    "line" : 68,
    "diffHunk" : "@@ -8,60 +8,70 @@ dist: trusty\n jdk: oraclejdk8\n language: scala\n \n+services:\n+  - docker\n+\n env:\n   matrix:\n-    - SCALANATIVE_GC=boehm SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=boehm SBT_VERSION=1.2.1\n-    - SCALANATIVE_GC=immix SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=immix SBT_VERSION=1.2.1\n+    - MODE=source-checks\n+    - MODE=compile-tests SBT_VERSION=0.13.16\n+    - MODE=compile-tests SBT_VERSION=1.2.1\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n \n   global:\n     - MAVEN_REALM=\"Sonatype Nexus Repository Manager\"\n     - MAVEN_DOMAIN=\"oss.sonatype.org\"\n     - secure: \"SrnxYRHUcevhm/oWU0mLC2l/EWSEa52oaaSqGrlMCvSX01udMMd5q4qSCzOpNlHviLBmdVxTBTnzlpyc8wnftezgs0pm8JFFj6CuiT37QNcCTtd5PN0QhVzqQauE2oWVkG97iwZFsz9pX87tzLRIlGIRa9A8CuoFY14lhIfmBK5wdiceZ3uBTu/Dcf/kzzC8yAykPhxjPSzeSsDUO2DBqsWjboOGEG2rNyJjKKBvChPyWAm3/4WPmKTV1I5aXUBiIffIWIzZONBobyn71hYfNFjkVF9+uEhsZA8T+5YZyPkyHrsONMBR5QxxDxGgz2YDEJU4aRvOOBW9yZcWa8jpEuBIj1bKFR6g3ZFOp0VgN7bAY4xq1E984T6yypvLiRz8/f7xOW+TLojcrCiz0CDrAjD0Ne9p8da9E1IUuiazqKZ9+TbbY6MHex9wnECEehfpAisI/r2X+vaARdF0zn60M+8h7ek7qIJfK1/7nXXTmy+ABmjrET+5q0oFzTz+0KI4f52KnTxPY8w7Yl7UVxe9LVkXmo9rFlGaeed1JiELBKJRc/sngqCCf1loq9rANK0ik4A4HWDW2pcYj21g8jer++s5IV7eimaX0TAiUgxing5TaGl/lWWg32cpjSqwUH69aOgfOBRJABh6zCK6qN3KCfOPfua+D0W0aDbAXMwpzyw=\"\n     - secure: \"lAh0fiYHWaNd9Z/slDzGj2gSUF1oDwaNBlZX6eeIASFZO2W+HF79UqD/ZGsTn58Ek1XJ9FLWk0+3BIHpoLBv7S7kj2QG8AVGi4EkhvvPc/7RjcO8EM3uN8KXY/XjlDJEI4BmxX1XuzPvwhhbTuk7NY+9DFqhWV3V5xYmtMt5yJ6rbu3NROGHoiiJvBvhzKHbjkoIX0dX/dHAS2bUcRmv6BZiBA9nI1WiDMTrRjnTm1x/v4kqLG5k4UwbBRU33foFzZJrFs04jJ47GXdczCyAH7Xu+NtvxRni9fjUgEKa75PtN4XLn8GRXC6u7HCPfHz2cHTeLyLxxKK1DZ+P08+bkG4MdoaknlN7HUg1gf9zWQYuanUMiqIMry5+URT9A5Jno+Kkr9UKJKqRHxBYVLenTqVCAj8KQONdEm5vCSkqv3dfpQRrljf4CX20vO28cDqXpOTzYdFOApH3Ah8I9uXmysnto9DgVJG3ZX7ibZ6gIHE5cpZuJsBFlVYAdEEygPhRKJrtnmZO7cL7pUIWT8nj3buOuU9uK1+JpWQ32GV+vyJolDRYamxrKLNbp/SVwWHaQk8+igj4zfS42XNDbOtD6KbHdwMzRH4AdpIR8ZWfB2BXSaY9XE0fWGDgG2h+7yropmMa3DWTdT8OWdXiPkn0TDhT2GhVNwxh5G4OB1nGpgw=\"\n \n-before_install:\n-  - bash scripts/travis_setup.sh\n-\n-before_script:\n-  - if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then\n-      echo \"Incoming pull request from https://github.com/$TRAVIS_REPO_SLUG/pull/$TRAVIS_PULL_REQUEST\";\n-      author=$(curl -u dummy4dummy:dummy2dummy -s \"https://api.github.com/repos/$TRAVIS_REPO_SLUG/pulls/$TRAVIS_PULL_REQUEST\" | jq -r \".user.login\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      echo \"Pull request submitted by $author\";\n-      signed=$(curl -s https://www.lightbend.com/contribute/cla/scala/check/$author | jq -r \".signed\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      if [ \"$signed\" = \"true\" ] ; then\n-        echo \"CLA check for $author successful\";\n-      else\n-        echo \"CLA check for $author failed\";\n-        echo \"Please sign the Scala CLA to contribute to Scala Native\";\n-        echo \"Go to https://www.lightbend.com/contribute/cla/scala and then resubmit this pull request\";\n-        exit 1;\n-      fi;\n-    fi;\n-\n script:\n   - java -version\n-  - if [ -n \"$CLANG_FORMAT_PATH\" ]; then scripts/clangfmt --test; fi\n-  - scripts/scalafmt --test\n-  - >\n-    sbt \\\n-      \"-no-colors\" \\\n-      \"-J-Xmx2G\" \\\n-      \"^^ $SBT_VERSION\" \\\n-      rebuild \\\n-      \"set scriptedBufferLog in sbtScalaNative := false\" \\\n-      test-all\n+  - if [ \"$MODE\" == \"source-checks\" ]; then\n+      if [ -n \"$CLANG_FORMAT_PATH\" ]; then\n+        scripts/clangfmt --test;\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+      fi;\n+      scripts/scalafmt --test;\n+      if [ $? -ne 0 ] ; then exit 1; fi;\n+      if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then\n+        echo \"Incoming pull request from https://github.com/$TRAVIS_REPO_SLUG/pull/$TRAVIS_PULL_REQUEST\";\n+        author=$(curl -u dummy4dummy:dummy2dummy -s \"https://api.github.com/repos/$TRAVIS_REPO_SLUG/pulls/$TRAVIS_PULL_REQUEST\" | jq -r \".user.login\");\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+        echo \"Pull request submitted by $author\";\n+        signed=$(curl -s https://www.lightbend.com/contribute/cla/scala/check/$author | jq -r \".signed\");\n+        if [ $? -ne 0 ] ; then exit 1; fi;\n+        if [ \"$signed\" = \"true\" ] ; then\n+          echo \"CLA check for $author successful\";\n+        else\n+          echo \"CLA check for $author failed\";\n+          echo \"Please sign the Scala CLA to contribute to Scala Native\";\n+          echo \"Go to https://www.lightbend.com/contribute/cla/scala and then resubmit this pull request\";\n+          exit 1;\n+        fi;\n+      fi;\n+    fi\n+  - if [ \"$MODE\" == \"compile-tests\" ]; then\n+      sbt \"-no-colors\" \"-J-Xmx2G\" \"^^ $SBT_VERSION\" nscplugin/publishLocal sbtScalaNative/publishLocal test-compile;\n+    fi\n+  - if [ \"$MODE\" == \"runtime-tests\" ]; then\n+      ./ci-docker/load-cached-images.sh\n+      docker run --rm --privileged multiarch/qemu-user-static:register;\n+      docker build --cache-from scala-native-testing:linux-$TARGET_DOCKER_PLATFORM -t scala-native-testing:linux-$TARGET_DOCKER_PLATFORM --build-arg TARGET_DOCKER_PLATFORM=$TARGET_DOCKER_PLATFORM --build-arg HOST_DEBIAN_PLATFORM=amd64 ci-docker;\n+      ./ci-docker/run-test-travis.sh;"
  },
  {
    "id" : "31652f37-fb64-458c-814f-bd4a5a54b2e4",
    "prId" : 1302,
    "comments" : [
      {
        "id" : "7a55ca81-3bf0-4693-8730-91a37086b79e",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "Can we factor out the code to the scripts/ folder? It would let us use normal bash syntax without having it embedded in travis configuration. ",
        "createdAt" : "2018-09-21T11:00:13Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "0682fa63-4f44-465d-a218-858ee7dacdfd",
        "parentId" : "7a55ca81-3bf0-4693-8730-91a37086b79e",
        "author" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "body" : "I would consider just copying what @olafurpg does here. https://github.com/scalameta/scalameta/tree/master/bin\r\n\r\nIf you add an argument to `checkCLA.sh` \"Scala Native\" and substitute in the script for \"Scalameta\", this script could be used on any project that needs to check the CLA.",
        "createdAt" : "2018-09-21T11:52:22Z",
        "updatedAt" : "2018-09-25T23:36:29Z",
        "lastEditedBy" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "ebea06fed4bd9bbf3ec373f772d5a3cde47fa92d",
    "line" : null,
    "diffHunk" : "@@ -8,60 +8,70 @@ dist: trusty\n jdk: oraclejdk8\n language: scala\n \n+services:\n+  - docker\n+\n env:\n   matrix:\n-    - SCALANATIVE_GC=boehm SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=boehm SBT_VERSION=1.2.1\n-    - SCALANATIVE_GC=immix SBT_VERSION=0.13.16\n-    - SCALANATIVE_GC=immix SBT_VERSION=1.2.1\n+    - MODE=source-checks\n+    - MODE=compile-tests SBT_VERSION=0.13.16\n+    - MODE=compile-tests SBT_VERSION=1.2.1\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n+    - MODE=runtime-tests TEST_CONTAINER=scala-native-testing:linux-x86_64 TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n \n   global:\n     - MAVEN_REALM=\"Sonatype Nexus Repository Manager\"\n     - MAVEN_DOMAIN=\"oss.sonatype.org\"\n     - secure: \"SrnxYRHUcevhm/oWU0mLC2l/EWSEa52oaaSqGrlMCvSX01udMMd5q4qSCzOpNlHviLBmdVxTBTnzlpyc8wnftezgs0pm8JFFj6CuiT37QNcCTtd5PN0QhVzqQauE2oWVkG97iwZFsz9pX87tzLRIlGIRa9A8CuoFY14lhIfmBK5wdiceZ3uBTu/Dcf/kzzC8yAykPhxjPSzeSsDUO2DBqsWjboOGEG2rNyJjKKBvChPyWAm3/4WPmKTV1I5aXUBiIffIWIzZONBobyn71hYfNFjkVF9+uEhsZA8T+5YZyPkyHrsONMBR5QxxDxGgz2YDEJU4aRvOOBW9yZcWa8jpEuBIj1bKFR6g3ZFOp0VgN7bAY4xq1E984T6yypvLiRz8/f7xOW+TLojcrCiz0CDrAjD0Ne9p8da9E1IUuiazqKZ9+TbbY6MHex9wnECEehfpAisI/r2X+vaARdF0zn60M+8h7ek7qIJfK1/7nXXTmy+ABmjrET+5q0oFzTz+0KI4f52KnTxPY8w7Yl7UVxe9LVkXmo9rFlGaeed1JiELBKJRc/sngqCCf1loq9rANK0ik4A4HWDW2pcYj21g8jer++s5IV7eimaX0TAiUgxing5TaGl/lWWg32cpjSqwUH69aOgfOBRJABh6zCK6qN3KCfOPfua+D0W0aDbAXMwpzyw=\"\n     - secure: \"lAh0fiYHWaNd9Z/slDzGj2gSUF1oDwaNBlZX6eeIASFZO2W+HF79UqD/ZGsTn58Ek1XJ9FLWk0+3BIHpoLBv7S7kj2QG8AVGi4EkhvvPc/7RjcO8EM3uN8KXY/XjlDJEI4BmxX1XuzPvwhhbTuk7NY+9DFqhWV3V5xYmtMt5yJ6rbu3NROGHoiiJvBvhzKHbjkoIX0dX/dHAS2bUcRmv6BZiBA9nI1WiDMTrRjnTm1x/v4kqLG5k4UwbBRU33foFzZJrFs04jJ47GXdczCyAH7Xu+NtvxRni9fjUgEKa75PtN4XLn8GRXC6u7HCPfHz2cHTeLyLxxKK1DZ+P08+bkG4MdoaknlN7HUg1gf9zWQYuanUMiqIMry5+URT9A5Jno+Kkr9UKJKqRHxBYVLenTqVCAj8KQONdEm5vCSkqv3dfpQRrljf4CX20vO28cDqXpOTzYdFOApH3Ah8I9uXmysnto9DgVJG3ZX7ibZ6gIHE5cpZuJsBFlVYAdEEygPhRKJrtnmZO7cL7pUIWT8nj3buOuU9uK1+JpWQ32GV+vyJolDRYamxrKLNbp/SVwWHaQk8+igj4zfS42XNDbOtD6KbHdwMzRH4AdpIR8ZWfB2BXSaY9XE0fWGDgG2h+7yropmMa3DWTdT8OWdXiPkn0TDhT2GhVNwxh5G4OB1nGpgw=\"\n \n-before_install:\n-  - bash scripts/travis_setup.sh\n-\n-before_script:\n-  - if [ \"$TRAVIS_PULL_REQUEST\" != \"false\" ] ; then\n-      echo \"Incoming pull request from https://github.com/$TRAVIS_REPO_SLUG/pull/$TRAVIS_PULL_REQUEST\";\n-      author=$(curl -u dummy4dummy:dummy2dummy -s \"https://api.github.com/repos/$TRAVIS_REPO_SLUG/pulls/$TRAVIS_PULL_REQUEST\" | jq -r \".user.login\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      echo \"Pull request submitted by $author\";\n-      signed=$(curl -s https://www.lightbend.com/contribute/cla/scala/check/$author | jq -r \".signed\");\n-      if [ $? -ne 0 ] ; then exit 1; fi;\n-      if [ \"$signed\" = \"true\" ] ; then\n-        echo \"CLA check for $author successful\";\n-      else\n-        echo \"CLA check for $author failed\";\n-        echo \"Please sign the Scala CLA to contribute to Scala Native\";\n-        echo \"Go to https://www.lightbend.com/contribute/cla/scala and then resubmit this pull request\";\n-        exit 1;\n-      fi;\n-    fi;\n-\n script:\n   - java -version\n-  - if [ -n \"$CLANG_FORMAT_PATH\" ]; then scripts/clangfmt --test; fi\n-  - scripts/scalafmt --test\n-  - >\n-    sbt \\\n-      \"-no-colors\" \\\n-      \"-J-Xmx2G\" \\\n-      \"^^ $SBT_VERSION\" \\\n-      rebuild \\\n-      \"set scriptedBufferLog in sbtScalaNative := false\" \\\n-      test-all\n+  - if [ \"$MODE\" == \"source-checks\" ]; then"
  },
  {
    "id" : "8eb95ea2-551a-4a28-a756-2babb83e48e8",
    "prId" : 1363,
    "comments" : [
      {
        "id" : "131a002f-79ad-4d1d-9806-3a5df76b85cb",
        "parentId" : null,
        "author" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "body" : "Nice matrix! 👍",
        "createdAt" : "2018-10-17T09:07:19Z",
        "updatedAt" : "2018-11-07T00:08:31Z",
        "lastEditedBy" : {
          "login" : "densh",
          "name" : null,
          "avatarUrl" : "https://avatars1.githubusercontent.com/u/320966?u=784f6f761f35b8b7f3f787172b468334d6524524&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "e76e2892454bf803dc9910d9590f59cbb5802f1f",
    "line" : null,
    "diffHunk" : "@@ -16,10 +16,12 @@ env:\n     - MODE=source-checks\n     - MODE=test-tools SBT_VERSION=0.13.16\n     - MODE=test-tools SBT_VERSION=1.2.1\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\"sbtScalaNative/scripted\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\";rebuild_x64;test-runtime_x64\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\";rebuild_x64;sbtScalaNative/scripted\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=0.13.16 TEST_COMMAND=\";rebuild_x64;test-runtime_x64\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_GC=immix SBT_VERSION=1.2.1 TEST_COMMAND=\";rebuild_x64;sbtScalaNative/scripted\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=i386 SCALANATIVE_GC=boehm SBT_VERSION=0.13.16 TEST_COMMAND=\";rebuild_x32;test-runtime_x32\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=i386 SCALANATIVE_GC=boehm SBT_VERSION=1.2.1 TEST_COMMAND=\";rebuild_x32;sbtScalaNative/scripted\""
  },
  {
    "id" : "ad9ea6e0-0c82-4081-98ae-ec2afb9b2b1c",
    "prId" : 1712,
    "comments" : [
      {
        "id" : "be029ba3-966c-414b-a7e0-e0360a1523b0",
        "parentId" : null,
        "author" : {
          "login" : "sjrd",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/535934?u=837d8ccc05f624946f9fbec6a81ecb1eb519031b&v=4"
        },
        "body" : "`SBT_VERSION` should match the value of `sbt10Version` in `build.sbt`, not the `sbt.version` of `project/build.properties`. So this should be `1.0.4`.\r\n\r\nSame in all the lines below.",
        "createdAt" : "2020-01-29T10:05:23Z",
        "updatedAt" : "2020-01-31T17:43:10Z",
        "lastEditedBy" : {
          "login" : "sjrd",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/535934?u=837d8ccc05f624946f9fbec6a81ecb1eb519031b&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "f1ec80f1-ba05-47dd-90e7-06f8028fee62",
        "parentId" : "be029ba3-966c-414b-a7e0-e0360a1523b0",
        "author" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "body" : "Thanks for the review.\r\n\r\nSo we run the following directly in Travis outside of Docker:\r\n`sbt \"-no-colors\" \"-J-Xmx3G\" \"^^ $SBT_VERSION\" nscplugin/publishLocal sbtScalaNative/publishLocal test-tools`\r\nSo I guess the idea is we test the tools with the minimum `sbt` and launcher version.\r\n\r\nThen we test the runtimes using the latest `sbt` so hopefully it is better and faster?\r\n\r\n",
        "createdAt" : "2020-01-29T17:05:05Z",
        "updatedAt" : "2020-01-31T17:43:10Z",
        "lastEditedBy" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "7c8e2c07-9919-4d90-83d0-d16f9297b9bf",
        "parentId" : "be029ba3-966c-414b-a7e0-e0360a1523b0",
        "author" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "body" : "I looked in the CI logs and it is using the `sbt` launcher version `1.3.7` but then using `1.0.4` later in the build `[info] Setting` `` `sbtVersion in pluginCrossBuild` `` `to 1.0.4`. Also, it seems that some deprecations may not be able to be removed until the `sbt` minimum version is updated based on the warnings. Hopefully, if someone if working on the tools then some of this code can be updated to remove deprecations.\r\n\r\nI guess too if someone is using an older launcher and it fails then it is ok for them too update the launcher. They can update `sbt` in their build on a different schedule.",
        "createdAt" : "2020-01-29T18:02:45Z",
        "updatedAt" : "2020-01-31T17:43:10Z",
        "lastEditedBy" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "433f0b29-e4f3-4020-be3d-830ba3ae4b4d",
        "parentId" : "be029ba3-966c-414b-a7e0-e0360a1523b0",
        "author" : {
          "login" : "sjrd",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/535934?u=837d8ccc05f624946f9fbec6a81ecb1eb519031b&v=4"
        },
        "body" : "It should be set to 1.0.4 for *all* builds. This enjoyment variable only affects the version of sbt that the sbt plugin is built for. The build itself will always use the version of sbt that is defined in `build.properties`.\r\n\r\nIn fact, since we now only support sbt 1.x for the sbt plugin, this environment variable is redundant. It would be better to get rid of it entirely, and get rid of the `^^ ...` commands. All of that is redundant now.",
        "createdAt" : "2020-01-31T14:52:03Z",
        "updatedAt" : "2020-01-31T17:43:10Z",
        "lastEditedBy" : {
          "login" : "sjrd",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/535934?u=837d8ccc05f624946f9fbec6a81ecb1eb519031b&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "266fa2c0-d704-4cff-ad8e-3303a6058807",
        "parentId" : "be029ba3-966c-414b-a7e0-e0360a1523b0",
        "author" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "body" : "@sjrd The sbt slash syntax was not offered until 1.1.0 and now the scripted tests are running in 1.0.4 so this doesn't work. The idea was to support the latest in each series, 1.0.4, 1.1.6, 1.2.8 and 1.3.x. Maybe we should bump the minimum version to 1.1.6? Otherwise we need change the 3 scripted tests to use the non-slash syntax. I tested the 1.1.6 idea and that works.",
        "createdAt" : "2020-01-31T17:37:51Z",
        "updatedAt" : "2020-01-31T17:43:10Z",
        "lastEditedBy" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "0ab93e85-3670-4acc-851f-e58f3fd5fe56",
        "parentId" : "be029ba3-966c-414b-a7e0-e0360a1523b0",
        "author" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "body" : "I pushed the `1.1.6` change but can go the other way if desired.",
        "createdAt" : "2020-01-31T17:44:00Z",
        "updatedAt" : "2020-01-31T17:44:00Z",
        "lastEditedBy" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "40082bed724604807bc88ddf064ee16e47cb4ec1",
    "line" : null,
    "diffHunk" : "@@ -14,20 +14,13 @@ services:\n env:\n   matrix:\n     - MODE=source-checks\n-    - MODE=test-tools SBT_VERSION=0.13.17\n-    - MODE=test-tools SBT_VERSION=1.2.6\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_GC=boehm SBT_VERSION=0.13.17 TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_GC=boehm SBT_VERSION=1.2.6 TEST_COMMAND=\"sbtScalaNative/scripted\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_GC=immix SBT_VERSION=0.13.17 TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_GC=immix SBT_VERSION=1.2.6 TEST_COMMAND=\"sbtScalaNative/scripted\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_GC=commix SBT_VERSION=0.13.17 TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_GC=commix SBT_VERSION=1.2.6 TEST_COMMAND=\"sbtScalaNative/scripted\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_GC=boehm SBT_VERSION=0.13.17 TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_GC=boehm SBT_VERSION=1.2.6 TEST_COMMAND=\"sbtScalaNative/scripted\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_GC=immix SBT_VERSION=0.13.17 TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_GC=immix SBT_VERSION=1.2.6 TEST_COMMAND=\"sbtScalaNative/scripted\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_GC=commix SBT_VERSION=0.13.17 TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_GC=commix SBT_VERSION=1.2.6 TEST_COMMAND=\"sbtScalaNative/scripted\"\n+    - MODE=test-tools SBT_VERSION=1.3.7"
  },
  {
    "id" : "a891fdf6-6177-469a-80af-5c38a535110e",
    "prId" : 1866,
    "comments" : [
      {
        "id" : "84715ba0-7366-4beb-8096-9f6693618ee3",
        "parentId" : null,
        "author" : {
          "login" : "sjrd",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/535934?u=837d8ccc05f624946f9fbec6a81ecb1eb519031b&v=4"
        },
        "body" : "Do you think it's important to test every GC in this configuration? If not I would suggest to only test e.g. immix in the \"without the Interflow optimizer\" category, for the sake of not exploding the CI time.",
        "createdAt" : "2020-07-29T16:20:04Z",
        "updatedAt" : "2020-07-29T22:36:40Z",
        "lastEditedBy" : {
          "login" : "sjrd",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/535934?u=837d8ccc05f624946f9fbec6a81ecb1eb519031b&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "6916f78e-c4dd-4565-bfb7-40cb7bb03a58",
        "parentId" : "84715ba0-7366-4beb-8096-9f6693618ee3",
        "author" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "body" : "@LeeTibbert and I had a discussion about doing a sparse matrix of tests hoping that we could add `macOS` back into the mix. It was dropped because there were so many failures related to running of Unit tests on `macOS`.",
        "createdAt" : "2020-07-29T16:33:14Z",
        "updatedAt" : "2020-07-29T22:36:40Z",
        "lastEditedBy" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      },
      {
        "id" : "91937925-8915-43b6-bee3-f4c09c277722",
        "parentId" : "84715ba0-7366-4beb-8096-9f6693618ee3",
        "author" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "body" : "@LeeTibbert and I had a discussion about using a sparse matrix. We previously dropped `macOS` because the `unit-tests` failed to much but it would be great to get that back. We could also add additional architectures like `arm`, `32bit`, Windows or whatever is most important.",
        "createdAt" : "2020-07-29T16:44:51Z",
        "updatedAt" : "2020-07-29T22:36:40Z",
        "lastEditedBy" : {
          "login" : "ekrich",
          "name" : null,
          "avatarUrl" : "https://avatars3.githubusercontent.com/u/933058?u=072fbca7645ffc9b0d6981f51b91eeeafb93c4cc&v=4"
        },
        "tags" : [
          {
            "value" : "outdated"
          }
        ]
      }
    ],
    "commit" : "7c1262208078829fb371c8c62305ad0cf4bbb6ec",
    "line" : null,
    "diffHunk" : "@@ -15,12 +15,20 @@ env:\n   matrix:\n     - MODE=source-checks\n     - MODE=test-tools\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_GC=boehm TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_GC=immix TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_GC=commix TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_GC=boehm TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_GC=immix TEST_COMMAND=\"test-runtime\"\n-    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_GC=commix TEST_COMMAND=\"test-runtime\"\n+    # without the Interflow optimiser\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_OPTIMISE=false SCALANATIVE_GC=boehm TEST_COMMAND=\"test-runtime\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_OPTIMISE=false SCALANATIVE_GC=immix TEST_COMMAND=\"test-runtime\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=debug SCALANATIVE_OPTIMISE=false SCALANATIVE_GC=commix TEST_COMMAND=\"test-runtime\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_OPTIMISE=false SCALANATIVE_GC=boehm TEST_COMMAND=\"test-runtime\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_OPTIMISE=false SCALANATIVE_GC=immix TEST_COMMAND=\"test-runtime\"\n+    - MODE=test-runtime TARGET_DOCKER_PLATFORM=library SCALANATIVE_MODE=release-fast SCALANATIVE_OPTIMISE=false SCALANATIVE_GC=commix TEST_COMMAND=\"test-runtime\""
  },
  {
    "id" : "adaf18ab-6ad2-4801-bfa7-1213ac177362",
    "prId" : 1877,
    "comments" : [
      {
        "id" : "b3761371-164f-40df-a60f-63200b52a56f",
        "parentId" : null,
        "author" : {
          "login" : "sjrd",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/535934?u=837d8ccc05f624946f9fbec6a81ecb1eb519031b&v=4"
        },
        "body" : "You should probably keep *both* here, and use `++$TRAVIS_SCALA_VERSION` in the invocations of sbt. That way you'll expand the CI matrix to cover all versions.",
        "createdAt" : "2020-08-20T13:52:07Z",
        "updatedAt" : "2020-08-21T17:48:34Z",
        "lastEditedBy" : {
          "login" : "sjrd",
          "name" : null,
          "avatarUrl" : "https://avatars0.githubusercontent.com/u/535934?u=837d8ccc05f624946f9fbec6a81ecb1eb519031b&v=4"
        },
        "tags" : [
        ]
      }
    ],
    "commit" : "b080d1ae228bf79269817d3f0c8263d6d3dec3a8",
    "line" : 4,
    "diffHunk" : "@@ -1,7 +1,7 @@\n sudo: required\n \n scala:\n-  - \"2.11.12\"\n+  - \"2.12.12\""
  }
]